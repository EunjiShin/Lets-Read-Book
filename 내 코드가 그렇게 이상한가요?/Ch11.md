# 11. 주석 : 유지 보수와 변경의 정확성을 높이는 주석 작성 방법
## 11.1 내용이 낡은 주석

- 주석이 구현 시점과 멀어질 수록, 구현 상태를 제대로 설명하지 못 할 가능성이 높다.
- 이 경우, 가짜 정보를 담고 있기에 읽는 사람에게 혼란을 주고 버그를 발생시킬 가능성이 있다.
- 코드를 변경할 때 주석도 함께 변경하자.
    - 주석은 코드가 아니므로, 굳이 실제 내용을 100% 전달할 순 없다. 의도가 전달될 수 있게만!
    - 로직의 동작을 설명한느 주석은 낡기 쉽다. 로직 자체를 설명하는 주석은 낡은 주석이 될 가능성도 높고, 별다른 도움이 되지 않는다.

---

## 11.2 주석 떄문에 이름을 대충 짓는 예

- 메서드 이름만으론 의도를 전달하기 힘든 경우, 주석을 달았다고 가정하자.

    ```java
    // 수면, 마비, 혼란, 석화, 사망 이외의 상황에서 행동 가능
    boolean isNotSleepingAndIsNotParalyzedAndIsNotConfusedAndIsNotStoneAndIsNotDead() {
    }
    ```

    - 갱신하기 어려워 낡은 주석이 되기 쉽다.
    - 만약 로직에 새로운 상황이 추가되면, 주석을 함께 변경해야 한다.
        - 이 경우, 주석을 변경해도 메서드 명이 바뀌지 않으면 구현과 이름에 괴리가 생긴다.
- **메서드는 주석으로 설명을 추가하기보다, 메서드의 이름 자체를 수정하는게 좋다.**

    ```java
    class Member {
    
    	private final States states;
    
    	boolean canAct() {
    		// 행동 불능 사양이 변경되는 경우
    		// 다음 로직을 변경합니다.
    		if (
    				states.contains(StateType.sleeping) || 
    				states.contains(StateType.paralyzed) ||
    				states.contains(StateType.confused) || 
    				... 
    			) {
    				return false;
    			}
    		return true;
    	}
    }
    ```

    - 메소드 가독성을 높이면 굳이 주석을 추가하지 않아도 된다. 그럼 낡은 주석이 생길 가능성도 적음!

---

## 11.3 의도와 사양 변경 시 주의 사항을 읽는 이에게 전달하기

- 코드는 보통 유지보수 할 때, 또는 사양을 변경할 때 읽힌다.
    - 따라서 `코드 유지 보수 시 읽는 사람`은 **‘이 로직은 어떤 의도를 갖고 움직이는지’** 고민해야 한다.
    - 그리고 `사양을 변경할 때 읽는 사람`은 **‘안전하게 변경하려면 무엇을 주의해야 하는가’** 고민해야 한다.
- 좋은 주석의 예시

    ```java
    class Member {
    	private final States states;
    
    	// 고통받는 상태일 때 true를 리턴
    	boolean isPainful() {
    		// 이후 사양 변경으로 표정 변화를 일으키는 상태를 추가할 경우
    		// 여기 메서드에 로직을 추가합니다.
    		... 
    	}
    }
    ```


---

## 11.4 주석 규칙 정리

| 규칙                                               | 이유                                                         |
|--------------------------------------------------|------------------------------------------------------------|
| 로직 변경할 때는 반드시 주석도 함께 변경                          | 주석을 제대로 변경하지 않으면, 실제 로직과 달라져 주석 읽는 사람에게 혼란을 줌              |
| 로직의 내용을 단순히 설명하기만 하는 주석은 달지 말 것                  | 실질적인 가독성을 높이지 않고, 주석 유지 보수가 힘듦. 결과적으로 내용이 낡은 주석이 될 가능성이 높음 |
| 가독성이 나쁜 로직에 설명을 추가하는 주석은 달지 않음. 대신 로직의 가독성을 높일 것 | 주석 유지 보수가 힘들고, 갱신되지 않아 낡은 주석이 될 가능성이 높음                    |
| 로직의 의도와 사양을 변경할 때 주의할 점을 주석으로 달 것                | 유지 보수와 사양 변경에 도움이 됨                                        |